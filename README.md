# mafia
Leading for mafia game

# Вход в игру
- Ввод: Номер комнаты
- Кнопка войти
- Кнопка создать комнату

# Подтверждение и выбор роли
- Состояние: сколько человек в игре и сколько готово
- Ввод: Имя или ник
- Ввод: тип активности (активный, пассивный, любой)
- Кнопка готово

# Экран выдачи роли
- Название роли
- Описание роли
- Кнопка готово

# Экран основной. 
Этот экран показывает все что сейчас происходит в игре.

## День
> Сейчас все знакомятся. Сейчас про себя рассказывает %ИМЯ%.

Когда до человека доходит очередь - открывается попап с надписью.
### Попап с надписью
- текст 

> Расскажи кто ты и почему ты не мафия.

- Кнопка  готово.

После рассказа игрок нажимает на кнопку ГОТОВО

После того, как все расскажут о себе - наступит ночь.

## Ночь 
Ночь отличается от обычной мафии. Здесь не нужно закрывать глаза, нужно смотреть в телефон.

### Интерфейс мафии
- список других мафий и крестного отца
- список всех игроков, без исключения. По клику отправляется голос.

### Интерфейс крестного отца
- список мафий
- их ответы
- список всех игроков

Стоит отметить, что крестный голосует после того как проголосовали все мафии.

### Интерфейсы других героев
- список игроков

### Интерфейс мирного
- текст загадки
- 4 варианта ответа

После игры подводится результат самого умного мирного.

**На голосование отводится 15 секунд, если кто-то не успевает, то его голос не учитывается, в течение 15 секунд можно изменить свое мнение 1 раз. У мафий эта возможность блокируется после 10 секунд, что бы крестный успел проголосовать**
В случае одинакового количества голосов у мафий - мнение крестного отца приоритетнее.

## День
Показываются результаты ночи. Убитые отключаются.

Дается 5 минут на обсуждение. На экране тикает таймер

Затем включаются очередные выступления как при знакомстве, но с текстом 
> Я считаю что мафия...
Затем появляется интерфейс голосования

### Интерфейс голосования
- Список игроков

После выбора игрока - показываются результаты голосования и кнопка "изменить решение", клик по которой показывает список игроков. Результаты голосования фиксируются спустя 30 секунд.

Выбранному игроку дается последнее слово.
Спустя 30 секунд у всех кроме него открывается окно 

### попап подтверждения убийства игрока
- кнопка ДА
- кнопка НЕТ

Если большинство считает что нужно его все-таки убить, то для него игра заканчивается
Если нет, то голосование начинается сначала.

Всего может быть 3 голосования, если после 3 никого не выгоняют, то просто начинается ночь - никто не умирает.

Если равное количество голосов, то этим игрокам по очереди дается последнее слово и после всех оправданий запускается голосование только из этих игроков. Если выбрать не получается, то запускается вопрос **убить всех или оставить** Отвечающие в нем не участвуют.

Начинается НОЧЬ...

